{% extends 'base.html.twig' %}

{% block title %}{{ wish.title }} - Bucket List{% endblock %}

{% block body %}
    <main>
        <div class="wish-detail">
            <h2 class="wish-title">
                {{ wish.title }}
            </h2>

            <p class="wish-description">
                {{ wish.description ?: 'Aucune description fournie pour ce souhait.' }}
            </p>

            <div class="bucket-footer">
                <div class="wish-meta">
                    <span>{{ wish.author }}</span>
                    <span>-</span>
                    <span>{{ wish.dateCreated|date('d/m/Y') }}</span>
                    {% if wish.dateUpdated %}
                        <span>-</span>
                        <span>Modifié le {{ wish.dateUpdated|date('d/m/Y') }}</span>
                    {% endif %}
                </div>

                <div class="category-tag {% if not wish.category %}no-category{% endif %}">
                    {% if wish.category %}
                        #{{ wish.category.name }}
                    {% else %}
                        Sans catégorie
                    {% endif %}
                </div>
            </div>
        </div>

        {% if is_granted('ROLE_ADMIN') %}
        <div class="wish-actions">
            <a href="{{ path('update_wish', {id: wish.id}) }}" class="btn btn-soft">
                Modifier
            </a>
            <a href="{{ path('delete_wish', {id: wish.id}) }}" class="btn btn-danger-soft"
               onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce souhait ?')">
                Supprimer
            </a>
        </div>
        {% endif %}
    </main>
{% endblock %}
